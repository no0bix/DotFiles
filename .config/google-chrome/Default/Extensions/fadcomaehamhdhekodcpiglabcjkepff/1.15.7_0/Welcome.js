!function(n){var e={};function t(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(i,o,function(e){return n[e]}.bind(null,o));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=166)}({166:function(n,e,t){"use strict";(function(n){var i=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();e.__esModule=!0;var o=t(4),r=t(167),a=t(168),s=t(5),d=t(8),l=function(e){function t(){return e.call(this,n)||this}return i(t,e),t.prototype.sendWelcomeMessage=function(){var n=this;setTimeout(function(){n.getHook().config.showWelcomePopup&&s.R20.saySystem('\n<h2 style="color: whitesmoke">VTT Enhancement Suite</h2>\n<span>The enhancement suite (aka R20ES) has been loaded!</span>\n<br/>\n<br/>\n\n<a href="'+d.Config.discordInvite+'">\n    <img style="width: 26px; height: 26px" src="https://discordapp.com/assets/1c8a54f25d101bdc607cec7228247a9a.svg"/>\n    <span style="color: orange;  margin-left:5px"> \n        Discord Server\n    </span>\n</a>\n\n<br/>\n\n<a class="bmc-button" target="_blank" href='+d.Config.contributeUrl+'>\n    <img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"/>\n    <span style="color: orange; margin-left:5px">\n        Buy me a coffee\n    </span>\n</a>\n')},2e3)},t.prototype.setup=function(){var n=document.getElementById("playerzone"),e=null,t=this.getHook().config;this.sendWelcomeMessage(),console.log("showChangelog: "+t.showChangelog),console.log('cfg.previousVersion": '+t.previousVersion),console.log('R20ES_VERSION": 1.15.7'),t.showStartupGuide?(this.welcome=new r.default(this),e=this.welcome.render()):t.showChangelog&&"1.15.7"!==t.previousVersion&&(this.changelog=new a.default,e=this.changelog.render()),this.setConfigValue("previousVersion","1.15.7"),e&&n.parentElement.insertBefore(e,n)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.welcome&&this.welcome.dispose()},t}(o.R20Module.OnAppLoadBase);o.R20Module.canInstall()&&(new l).install()}).call(this,"src/modules/Welcome")},167:function(n,e,t){"use strict";var i=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();e.__esModule=!0;var o=t(2),r=t(6),a=t(84),s=function(n){function e(e){var t=n.call(this)||this;return t.onClickClose=function(){t.finish()},t.onClickLater=function(){t.close()},t.onClickNext=function(){t.finish(),$("a[href='#mysettings']").click();var n=document.getElementById(a.default),e=n.style.border;setTimeout(function(){n.style.border="solid red 5px"},500),setTimeout(function(){n.style.border=e,$(n).click()},1500)},t.mod=e,r.getExtUrlFromPage("logo.svg",5e3).then(function(n){t.logoUrl=n,t.rerender()}).catch(function(n){return console.error("Failed to get logo.svg: "+n)}),t}return i(e,n),e.prototype.close=function(){this.dispose()},e.prototype.finish=function(){var n=this.mod.getHook();n.config.showStartupGuide=!1,n.saveConfig(),this.close()},e.prototype.internalRender=function(){var n={marginRight:"8px"};return o.DOM.createElement("div",{className:"r20es-welcome"},o.DOM.createElement("section",{style:{display:"flex",justifyContent:"space-between"}},o.DOM.createElement("section",null,o.DOM.createElement("h3",null,"Welcome to the VTT Enhancement Suite!"),o.DOM.createElement("hr",{style:{margin:"5px 0 15px 0"}}),o.DOM.createElement("p",null,"To get started, we recommend taking a look at the settings menu. There you can discover, learn and configure the modules this plugin provides."),o.DOM.createElement("p",null,'It can be found underneath the "My Settings" tab in the sidebar.'),o.DOM.createElement("p",null,"Would you like us to take you there?")),o.DOM.createElement("section",null,o.DOM.createElement("img",{style:{height:"100%"},src:this.logoUrl,alt:"Logo"}))),o.DOM.createElement("div",{style:{float:"right"}},o.DOM.createElement("button",{className:"btn",style:n,onClick:this.onClickClose},"I'll figure it out"),o.DOM.createElement("button",{className:"btn",style:n,onClick:this.onClickLater},"Later"),o.DOM.createElement("button",{className:"btn btn-primary",style:n,onClick:this.onClickNext},"Let's go!")))},e}(o.DOM.ElementBase);e.default=s},168:function(n,e,t){"use strict";var i=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();e.__esModule=!0;var o=t(2),r=t(82),a=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return i(e,n),e.prototype.internalRender=function(){return o.DOM.createElement("div",{className:"r20es-welcome"},o.DOM.createElement("h2",null,"R20ES has been updated"),o.DOM.createElement(r.default,{listAllVersions:!1}),o.DOM.createElement("input",{className:"btn btn-primary",style:{width:"100%",height:"auto",boxSizing:"border-box"},type:"button",onClick:this.dispose,value:"OK"}))},e}(o.DOM.ElementBase);e.default=a},2:function(n,e,t){"use strict";var i,o=this&&this.__makeTemplateObject||function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n};e.__esModule=!0,function(n){n.rerender=function(n,e){var t=n.nextSibling,i=n.parentNode;n.remove();var o=e();return t?i.insertBefore(o,t):i.appendChild(o),o},n.createElement=function(e,t){for(var i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var d=null,l="function"==typeof e;l&&e.name&&e.prototype instanceof n.ElementBase?d=new e(t).render():d=l?e(t):document.createElement(e);if(!(d instanceof HTMLElement))return console.error($(r||(r=o(["JSX Render must return a valid element: elem is not an instance of HTMLElement"],["JSX Render must return a valid element: elem is not an instance of HTMLElement"])))),console.table(((i={})['"type" argument']=e,i.Type=typeof d,i.Value=d,i)),console.trace(),null;if(a){var c=document.createDocumentFragment(),u=function(n){for(var e=0,t=n;e<t.length;e++){var i=t[e];if(i instanceof HTMLElement)c.appendChild(i);else if(Array.isArray(i))u(i);else if("number"==typeof i)c.appendChild(document.createTextNode(i.toString()));else if("string"==typeof i)c.appendChild(document.createTextNode(i));else if(null===i||void 0===i||"boolean"==typeof i)console.log("JSX got an unrenderable child value, assuming it's control flow related: type: "+typeof i+" value: "+i+".");else{var o=[];for(var r in i)o.push(i[r]);u(o)}}};u(a),d.appendChild(c)}var f=function(n){return n.startsWith("on")},h=function(n){return n.substring(2).toLowerCase()};for(var g in t){var p=t[g];if(f(g))d.addEventListener(h(g),p);else if("className"===g)if(p&&Array.isArray(p))for(var m=0,b=p;m<b.length;m++){var w=b[m];!w||w.length<=0||d.classList.add(w)}else"string"==typeof p&&p.length>0&&(d.className=d.className&&d.classList.length>0?d.className+" "+p:p);else if("style"===g)if("string"==typeof p)d.style.cssText=p;else if("object"==typeof p)for(var v in p)p&&(d.style[v]=p[v]);else void 0!==p&&console.error("Unknown style attribute type: "+typeof p+", "+p);else g.startsWith("data")?d.setAttribute(g,p):d[g]=p}return d};var e=function(){return function(){var e=this;this.elementRoot=null,this.render=function(){var n=e.internalRender();return e.setRoot(n),n},this.rerender=function(){return n.rerender(e.getRoot(),function(){return e.render()})},this.setRoot=function(n){return e.elementRoot=n},this.getRoot=function(){return e.elementRoot},this.dispose=function(){e.getRoot().remove()}}}();n.ElementBase=e}(i||(i={})),e.DOM=i;e.SidebarSeparator=function(n){var e=n&&n.big;return i.createElement("div",null,e&&i.createElement("div",{className:"clear",style:{height:e}}),i.createElement("hr",null),e&&i.createElement("div",{className:"clear",style:{height:e}}))};var r;e.SidebarCategoryTitle=function(n){return i.createElement("h3",{style:{marginBottom:"5px",marginLeft:"5px"}})}},3:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=(n=>{const e=n.replace(/\\/g,"/").split("/");if(e.length<=0)throw new Error("Invalid dirname given.");return e[e.length-1]+".js"})},4:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.R20Module=void 0;var i=function(n){return n&&n.__esModule?n:{default:n}}(t(3));function o(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function r(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}let a={};e.R20Module=a,a.Base=function(){function n(n){!function(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(this,"getAllHooks",n=>window.r20es.hooks),this.filename=(0,i.default)(n),this.isDisposed=!0}var e=n.prototype;return e.installFirstTime=function(){},e.installUpdate=function(){},e.dispose=function(){},e.internalCanInstall=function(){return!!this.getHook().config.enabled&&(!!this.isDisposed||(console.error("Attempted to install module when it's not disposed."),console.table({"Module filename":this.filename}),console.trace(),!1))},e.internalInstallFirstTime=function(){if(this.internalCanInstall()){try{this.installFirstTime()}catch(n){console.error(n)}this.isDisposed=!1}},e.internalInstallUpdate=function(){if(this.internalCanInstall()){try{this.installUpdate()}catch(n){console.error(n)}this.isDisposed=!1}},e.internalDispose=function(){if(console.log(this),this.isDisposed)return console.error("internalDispose called on module that is already disposed!"),console.table({"Module filename":this.filename}),void console.trace();try{this.dispose()}catch(n){console.error(n)}this.isDisposed=!0},e.setConfigValue=function(n,e){const t=this.getHook(),i=this.getHook().config;if(!(n in i))return void console.error(`Tried to set config of key ${n} to value ${e} but key was not found in the config of module id ${t.id}"`);const o=i[n];i[n]=e,t.saveConfig(),i.enabled&&"onSettingChange"in this&&"function"==typeof this.onSettingChange&&this.onSettingChange(n,o,e)},e.getHook=function(){if(!1 in window.r20es)return null;for(const n in window.r20es.hooks){const e=window.r20es.hooks[n];if(e.filename&&e.filename===this.filename)return e}return null},e.toggleEnabledState=function(n){const e=this.getHook(),t=void 0===n||null===n?!e.config.enabled:n;if(e.config.enabled&&t)return;const i=e.config.enabled;e.config.enabled=t,e.saveConfig(),i&&!t?(console.log("disabling"),this.internalDispose()):!i&&t&&(console.log("enabling"),this.internalInstallUpdate())},e.install=function(){if(!("r20esInstalledModuleTable"in window))return;if(!("r20esDisposeTable"in window))return;console.log(`Installing module filename: ${this.filename}`),!(this.filename in window.r20esInstalledModuleTable)?(console.log("First run"),this.internalInstallFirstTime()):(this.filename in window.r20esDisposeTable&&console.error(`DUPLICATE MODULE FOUND: ${this.filename}`),console.log("Calling install update"),this.internalInstallUpdate()),window.r20esDisposeTable[this.filename]=(()=>{this.dispose()}),window.r20esInstalledModuleTable[this.filename]=this,console.log(`DONE! module ID: ${this.filename}`)},n}(),a.SimpleBase=function(n){function e(){return n.apply(this,arguments)||this}r(e,n);var t=e.prototype;return t.installFirstTime=function(){this.setup()},t.installUpdate=function(){this.setup()},t.setup=function(){},e}(a.Base),a.OnAppLoadBase=function(n){function e(e){var t;return(t=n.call(this,e)||this).setup=t.setup.bind(o(o(t))),t}r(e,n);var t=e.prototype;return t.installFirstTime=function(){window.r20es.isLoading?(this.earlySetup(),window.r20es.onAppLoad.addEventListener(this.setup)):(this.earlySetup(),this.setup())},t.earlySetup=function(){},t.setup=function(){},t.installUpdate=function(){this.installFirstTime()},t.dispose=function(){window.r20es.onAppLoad.removeEventListener(this.setup)},e}(a.Base),a.canInstall=(n=>window.r20es&&"canInstallModules"in window.r20es&&window.r20es.canInstallModules),a.getModule=function(n){return"r20esInstalledModuleTable"in window?window.r20esInstalledModuleTable[n]:null},a.getModuleById=function(n){return"r20esInstalledModuleTable"in window?a.getModule(window.r20es.hooks[n].filename):null}},5:function(n,e,t){"use strict";e.__esModule=!0;var i,o=t(7);!function(n){var e;function t(){return window.d20.engine.unselect()}function i(n){window.d20.engine.select(n)}function r(){return window.currentPlayer}function a(){return window.currentEditingLayer}function s(){try{var n=window.d20.Campaign.attributes.jukeboxfolder;return JSON.parse(n||"[]")}catch(n){console.error("[getJukeboxFileStructure] failed to get fs due to exception",n)}return[]}function d(n){return window.Jukebox.playlist.get(n)}function l(){return window.d20.Campaign.activePage()}function c(){return window.d20.engine.canvas.getObjects()}function u(e){for(var t=0,i=c();t<i.length;t++){var o=i[t],r=n.try_get_canvas_object_model(o);if(r&&r.get("id")===e)return o}return null}function f(n,e,t){t?($(document).on("mancerroll:"+e,function(n,i){$(document).off("mancerroll:"+e),t(n,i)}),window.d20.textchat.doChatInput(n,e)):window.d20.textchat.doChatInput(n)}function h(n){window.d20.textchat.incoming(!1,{who:"system",type:"system",content:n})}function g(){window.d20.engine.redrawScreenNextTick(!1)}!function(n){n[n.NumericAscending=0]="NumericAscending",n[n.NumericDescending=1]="NumericDescending",n[n.Alphabetical=2]="Alphabetical",n[n.AlphabeticalDescending=3]="AlphabeticalDescending",n[n.Card=4]="Card"}(e=n.InitiativeOrdering||(n.InitiativeOrdering={})),function(n){n.Map="map",n.PlayerTokens="objects",n.GMTokens="gmlayer",n.Lighting="walls",n.B20Foreground="foreground",n.B20Weather="weather"}(n.CanvasLayer||(n.CanvasLayer={})),n.setBackgroundStyle=function(n){window.d20.engine.backgroundColor=n},n.setupImageDropTarget=function(n,e,t){var i={model:{save:e},updateModel:t};window.d20.utils.setupAvatar(n,i)},n.getCanvasMousePos=function(){return window.d20.engine.mousePos.slice()},n.onInitiativeChange=function(e){return new o.EventSubscriber("change:turnorder",e,function(){return n.getInitiativeWindow().model})},n.setCanvasObjectLocation=function(e,t,i){var o=n.try_get_canvas_object_model(e);o&&o.save({top:i,left:t})},n.getBlob=function(n,e,t){return void 0===t&&(t=5e3),new Promise(function(i,o){n._getLatestBlob(e,i),setTimeout(o,t)})},n.getCampaign=function(){return window.Campaign},n.canEditCharacter=function(e){var t=e.attributes.controlledby;return!!n.isGM()||(!!t.includes("all")||!!t.includes(n.getCurrentPlayer().id))},n.getHandout=function(n){return window.Campaign.handouts.get(n)},n.createCharacter=function(n){return window.Campaign.characters.create(n)},n.setCanvasObjectDimensions=function(e,t,i){var o=n.try_get_canvas_object_model(e);o&&o.save({width:t,height:i})},n.getCharacter=function(n){return window.Campaign.characters.get(n)},n.getAllCharacters=function(){return window.Campaign.characters.models},n.getAllPages=function(){return window.Campaign.pages.models},n.createRollableTable=function(n){return window.d20.Campaign.rollabletables.create(n)},n.getRollableTable=function(n){return window.d20.Campaign.rollabletables.get(n)},n.getSelectedTokens=function(){return window.d20.engine.selected()},n.unselectTokens=t,n.addTokenToSelection=i,n.selectToken=function(n){t(),i(n)},n.hideTokenRadialMenu=function(){window.d20.token_editor.removeRadialMenu()},n.hideTokenContextMenu=function(){window.d20.token_editor.closeContextMenu()},n.getCurrentPlayer=r,n.getCanvasZoom=function(){return window.d20.engine.canvasZoom},n.getCanvasWidth=function(){return window.d20.engine.canvas.width},n.getCanvasHeight=function(){return window.d20.engine.canvas.height},n.getCanvasOffsetX=function(){return window.d20.engine.currentCanvasOffset[0]},n.getCanvasOffsetY=function(){return window.d20.engine.currentCanvasOffset[1]},n.getPageById=function(n){return window.Campaign.pages.get(n)},n.isGM=function(){return window.is_gm},n.getCurrentLayer=a,n.generateUUID=function(){return window.generateUUID()},n.getCurrentToolName=function(){return window.d20.engine.mode},n.advanceInitiative=function(){window.d20.Campaign.initiativewindow.nextTurn()},n.addTokenToInitiative=function(n){window.d20.Campaign.initiativewindow.addTokenToList(n)},n.addCustomItemToInitiative=function(n,e){window.d20.Campaign.initiativewindow.addTokenToList("-1",n,e)},n.rerenderMacroBar=function(){window.d20.player_settings.refreshMacroBar()},n.rerenderJournalMacros=function(){window.d20.player_settings.refreshRollsList()},n.orderInitiativeBy=function(n){var t,i=((t={})[e.NumericAscending]=".sortlist_numeric",t[e.NumericDescending]=".sortlist_numericdesc",t[e.Alphabetical]=".sortlist_alpha",t[e.AlphabeticalDescending]=".sortlist_alphadesc",t[e.Card]=".sortlist_card",t);if(n in i){var o=i[n];$("#initiativewindow_settings").dialog({modal:!1,title:"Turn Order Settings",beforeClose:function(){}}),$(o).click()}else console.error("Invalid initiative ordering: "+n)},n.getInitiativeWindow=function(){return window.d20.Campaign.initiativewindow},n.getJukeboxFileStructure=s,n.setJukeboxFileStructure=function(e){n.getCampaign().save({jukeboxfolder:JSON.stringify(e)})},n.createPlaylist=function(n){return window.d20.jukebox.addFolderToFolderStructure(n)},n.addTrackToPlaylist=function(n,e){return window.d20.jukebox.addItemToFolderStructure(n,e)},n.getSongById=d,n.getJukeboxPlaylists=function(){for(var n=[],e=0,t=s();e<t.length;e++){var i=t[e];if("string"!=typeof i){for(var o=i,r={id:o.id,name:o.n,mode:o.s,songs:[]},a=0,l=o.i;a<l.length;a++){var c=l[a],u=d(c);u?r.songs.push(u):console.warn("Tried to get song id "+c+" but the query returned a falsy value. Skipping")}n.push(r)}}return n},n.playAudio=function(n,e){window.Jukebox.soundObjs[n]=window.soundManager.createSound({id:n,url:e})},n.createSong=function(n){return window.Jukebox.playlist.create(n)},n.makePlaylistStructure=function(n,e,t){return{id:window.generateUUID(),n:n,s:e,i:t||[]}},n.getInitiativeData=function(){return window.d20.Campaign.initiativewindow.cleanList()},n.setInitiativeData=function(n){window.d20.Campaign.initiativewindow.model.save({turnorder:JSON.stringify(n)})},n.getCurrentPage=l,n.getCurrentPageTokens=c,n.doesTokenContainMouse=function(n,e){return window.d20.engine.canvas.containsPoint(n,e)},n.getCurrentPageTokenByUUID=u,n.try_get_canvas_object_model=function(n){return n._model?n._model:n.model?n.model:null},n.isUsing5EOGLSheet=function(){try{return window.d20.journal.customSheets.workerScripts[0].includes("5th Edition OGL by Roll20")}catch(n){return!1}},n.moveCameraToTokenByUUID=function(n){if(n){var e=u(n);if(e){var t=$("#editor-wrapper")[0];t.scrollTop=Math.floor(e.top*window.d20.engine.canvasZoom)-Math.floor(window.d20.engine.canvasHeight/2)+125*window.d20.engine.canvasZoom,t.scrollLeft=Math.floor(e.left*window.d20.engine.canvasZoom)-Math.floor(window.d20.engine.canvasWidth/2)+125*window.d20.engine.canvasZoom}}},n.primitiveSay=function(n,e){window.d20.textchat.doChatInput(n,e)},n.say=f,n.sayToSelf=function(e,t){var i='/w "'+r().get("displayname")+'" '+e;t?f(i,n.generateUUID(),t):f(i)},n.saySystemRaw=h,n.saySystem=function(n){h('<span style="background: rgba(6,26,45,255);\n    color: whitesmoke;\n    border: none;\n    display: inline-block;\n    padding: 8px;\n    margin: -15px -5px -7px -45px;    \n    "\n>\n'+n+"\n</span>\n        ")},n.ping=function(n,e,t,i,o){t=t||r().id,window.d20.engine.pings[t]={left:n,top:e,radius:-5,player:t,pageid:i||l().id,currentLayer:o||a()},window.d20.engine.pinging={downx:n,downy:e},g()},n.getFabric=function(){return window.exports.fabric},n.renderAll=g,n.setGMLayerOpacity=function(n){window.d20.engine.gm_layer_opacity=n},n.hasBetteR20=function(){return void 0!==window.d20plus},n.wipeObjectStorage=function(n){for(var e=n.length,t=0;t<e;t++){var i=n.length-1;if(0>i)break;var o=n.models[i];if(!o||void 0===o)break;o.destroy()}n.length<0&&console.error("FAILED TO WIPE OBJECT STORAGE!")},n.doBulkRoll=function(e,t,i,o,r){n.unselectTokens();var a=function(e){if(n.selectToken(e),r){var i=r(e);i&&n.say(t,i.id,i.callback)}else n.say(t)},s=function(){if(n.hideTokenRadialMenu(),n.hideTokenContextMenu(),o)for(var t=0,i=e;t<i.length;t++){var r=i[t];n.addTokenToSelection(r)}};if(0===i){for(var d=0,l=e;d<l.length;d++){var c=l[d];a(c)}s()}else for(var u=i,f=function(n){setTimeout(function(){a(e[n]),n+1===e.length&&s()},u),u+=i},h=0;h<e.length;h++)f(h)}}(i||(i={})),e.R20=i},6:function(n,e,t){"use strict";e.__esModule=!0;var i=t(8);e.copy=function(n,e){var t=Object.assign({},n);return e&&(t=Object.assign(t,e)),t};var o=function(n){if("currentTransform"in n)return n.currentTransform;if("getTransform"in n)return n.getTransform();if(n.mozCurrentTransform){var e=n.mozCurrentTransform;return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}};e.getTransform=o;e.getRotation=function(n){var e=o(n),t=Math.atan2(e.b,e.a);return t<0&&(t+=2*Math.PI),t};e.findByIdAndRemove=function(n){var e=document.getElementById(n);e&&e.remove()};e.mapObj=function(n,e){return Object.keys(n).reduce(function(t,i){var o=e(n[i],i);return void 0!==o&&null!==o&&t.push(o),t},[])};e.safeCall=function(n){try{n()}catch(n){console.error(n)}};e.removeAllChildren=function(n){for(;n.firstChild;)n.removeChild(n.firstChild)};e.replaceAll=function(n,e,t){return n.replace(new RegExp(function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"g"),t)};e.safeParseJson=function(n){try{return JSON.parse(n)}catch(n){alert("File is not a valid JSON file.")}return null};e.readFile=function(n){return new Promise(function(e,t){if(n){var i=new FileReader;i.readAsText(n),i.onload=function(n){e(n.target.result)}}else t("No file given.")})};var r=function(){return chrome||browser};e.getBrowser=r;e.injectScript=function(n){console.log("Injecting "+n);var e=document.createElement("script");e.async=!1,e.src=r().extension.getURL(n),e.onload=function(){e.remove()},document.head.appendChild(e)};e.strIsNullOrEmpty=function(n){return null===n||void 0===n||n.length<=0||n.trim().length<=0};e.createCSSElement=function(n,e){var t=document.createElement("style");return t.innerHTML=n,t.id=e,t};e.getExtUrlFromPage=function(n,e){var t=void 0===e||null===e?1e3:e;return new Promise(function(e,o){try{var r=!1,a=function(){window.removeEventListener("message",d)},s=window.generateUUID(),d=function(n){n.origin===i.Config.appUrl&&n.data.r20esGivesResourceUrl&&n.data.r20esGivesResourceUrl.id===s&&(r=!0,a(),e(n.data.r20esGivesResourceUrl.url))};window.addEventListener("message",d);var l={resource:n,id:s};window.postMessage({r20esWantsResourceUrl:l},i.Config.appUrl),setTimeout(function(){try{r||(a(),o("Timed out after "+t+"ms"))}catch(n){o(n)}},t)}catch(n){o(n)}})}},7:function(n,e,t){"use strict";e.__esModule=!0;var i=function(){function n(n,e,t){this._isSubscribed=!1,this._name=n,this._callback=e,this._targetGetter=t}return n.subscribe=function(e,t,i){var o=new n(e,t,i);return o.subscribe(),o},n.prototype.subscribe=function(){if(!this._isSubscribed){var n=this._targetGetter();"on"in n?n.on(this._name,this._callback):n.addEventListener(this._name,this._callback),this._isSubscribed=!0}},n.prototype.unsubscribe=function(){if(this._isSubscribed){var n=this._targetGetter();"off"in n?n.off(this._name,this._callback):n.removeEventListener(this._name,this._callback),this._isSubscribed=!1}},n}();e.EventSubscriber=i},74:function(n,e,t){"use strict";e.__esModule=!0;var i=t(2);e.default=function(n){var e=n.url,t=n.description;return i.DOM.createElement("div",null,e.endsWith(".webm")?i.DOM.createElement("video",{autoplay:!0,loop:!0,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover",display:"block",margin:"auto"},src:e}):i.DOM.createElement("img",{style:{display:"block",margin:"auto"},src:e,alt:e}),i.DOM.createElement("p",{style:{textAlign:"center"}},t))}},8:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;let i={};e.Config=i,i.appUrl="https://app.roll20.net",i.websiteFeatureUrlTemplate="https://ssstormy.github.io/roll20-enhancement-suite/features#",i.website="https://ssstormy.github.io/roll20-enhancement-suite/",i.discordInvite="https://discord.gg/pKxxvuM",i.contributeUrl="https://ssstormy.github.io/roll20-enhancement-suite/contribute.html"},82:function(n,e,t){"use strict";var i=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();e.__esModule=!0;var o=t(2),r=t(6),a=t(8),s=t(74),d=t(83),l=function(n){function e(e){var t=e.listAllVersions,i=n.call(this)||this;i.preparedData=[],i.isLoading=!0,i.onClickLine=function(n){n.stopPropagation();var e=n.target.getAttribute("data-url");e&&window.open(e,"_blank")};var o=JSON.parse('{\n    "current": "1.15.7",\n    "versions": {\n        "1.4.0": {\n            "info": {\n                "title": "Night Mode & Fixes",\n                "media": "night_mode.png"\n            },\n            "changes": [\n                {\n                    "id": "nightMode",\n                    "content": "Added Night Mode. Enable it in the settings menu."\n                },\n                {\n                    "id": "",\n                    "content": "AlternatePageToolbarMenu: clicking on page text switches you to that page. Use right-click to rename the page."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed laggy compendiums: be more strict about which URLs are the editor."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed Hide Players module being disabled after every load."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed possible bugs caused by changing a setting of a disabled module."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed TokenResize settings media not being shown (thanks @ Nikolay for the report!)."\n                },\n                {\n                    "id": "",\n                    "content": "Possibly fixed a possible TokenEditor crash."\n                },\n                {\n                    "id": "",\n                    "content": "Update contributors"\n                }\n            ]\n        },\n        "1.3.4": {\n            "info": {\n                "title": "I Have 4 Browsers Open: The Update",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "R20ES now runs on Chromium fork browsers and FF 56. They are both on minimal support, meaning stuff will be broken and bug fixes will have lower priority for these platforms."\n                },\n                {\n                    "id": "",\n                    "content": "Updated contributors"\n                }\n            ]\n        },\n        "1.3.3": {\n            "info": {\n                "title": "Minor Tweaks",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "DrawCurrentLayer: Fix improper drawing when switching to the light layer (thanks @Colorblind for the report)."\n                },\n                {\n                    "id": "",\n                    "content": "Changelog: Added history up to 1.3.0"\n                },\n                {\n                    "id": "",\n                    "content": "About: Dropped some names in there."\n                }\n            ]\n        },\n        "1.3.2": {\n            "info": {\n                "title": "Bug squashin\'",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "TokenEditor: add a special hint for when the user is not a GM."\n                },\n                {\n                    "id": "",\n                    "content": "TokenEditor: update bar current/max values when linking bar to an attribute."\n                },\n                {\n                    "id": "",\n                    "content": "TokenEditor: replace attribute dropdown with search box that autocompletes."\n                },\n                {\n                    "id": "",\n                    "content": "TokenEditor: sort attributes lexicographically (thanks @DoomRice for the report)."\n                },\n                {\n                    "id": "",\n                    "content": "TokenLayerDrawing: fix improper overlay positioning on mirrored tokens (thanks @DoomRice for the report)."\n                },\n                {\n                    "id": "",\n                    "content": "New welcome message."\n                },\n                {\n                    "id": "",\n                    "content": "Dialog: fix invalid success value when ESCaping out of a dialog"\n                },\n                {\n                    "id": "",\n                    "content": "Dialog: improved visuals, sizes."\n                },\n                {\n                    "id": "",\n                    "content": "TableIO: add a table repo URL to the paste dialog."\n                }\n            ]\n        },\n        "1.3.1": {\n            "info": {\n                "title": "Token editor bug fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Fixed a typo in the token editor message for not having permissions to view the default token."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed a case where the token editor would not update the default token fully."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed the token editor assuming the player cannot view the default token when the character simply doesn\'t have a default token."\n                }\n            ]\n        },\n        "1.3.0": {\n            "info": {\n                "title": "Token Editor Update",\n                "media": "token_editor.png"\n            },\n            "changes": [\n                {\n                    "id": "characterTokenModifier",\n                    "content": "Added Token Editor: a new character sheet tab for fast token editing."\n                },\n                {\n                    "id": "",\n                    "content": "Added the Hide Player List module: it hides the player list."\n                },\n                {\n                    "id": "",\n                    "content": "Added an option to use units instead of squares in TokenResize."\n                },\n                {\n                    "id": "",\n                    "content": "Added a checkbox to the TokenResize dialog for moving the current selection."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed TokenResize allowing the resizing of tokens to a size of 0."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed potential memory leak when disabling modules."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed player avatars in the alternative page toolbar menu."\n                }\n            ]\n        },\n        "1.4.1": {\n            "info": {\n                "title": "Night Mode Tweaks",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "NightMode: added an option for loading the OGL 5E night mode. Should improve compatibility with other sheets."\n                },\n                {\n                    "id": "",\n                    "content": "NightMode: added an option for loading the chat message night mode style. Should improve compatibility with character sheets."\n                },\n                {\n                    "id": "",\n                    "content": "Lowered extension size (5MiB -> 350KiB!): settings media is no longer packaged with the extension and is now served from the website."\n                }\n            ]\n        },\n        "1.5.0": {\n            "info": {\n                "title": "Jukebox & Tools & Arrow keys",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added a tools menu. Can be found in the settings tab."\n                },\n                {\n                    "id": "",\n                    "content": "Tools: added bulk roll type setter for the OGL 5e sheet."\n                },\n                {\n                    "id": "",\n                    "content": "Added ArrowKeysMoveCanvas: allows moving the canvas camera with arrow keys when there is no default token selected. Try this out with the ruler tool!"\n                },\n                {\n                    "id": "",\n                    "content": "Added Jukebox playlist importing/exporting."\n                },\n                {\n                    "id": "",\n                    "content": "Updated contributors."\n                },\n                {\n                    "id": "",\n                    "content": "Fixed NightMode not styling dialog footers"\n                },\n                {\n                    "id": "",\n                    "content": "Fixed improver error messages when processing an invalid Character."\n                }\n            ]\n        },\n        "1.5.1": {\n            "info": {\n                "title": "JukeboxIO Optimization",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "JukeboxIO: optimized importing. It\'s pretty fr*ck1n f4st. (thanks @ Daj for the report!)"\n                }\n            ]\n        },\n        "1.5.2": {\n            "info": {\n                "title": "console.log: the update",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added a bunch of debug logging to very sensitive and critical sections of Chrome code."\n                },\n                {\n                    "id": "",\n                    "content": "Possibly™ Fixed™ a Bug™ on Chrome (thanks @ Angor de Redjak for the report & help!)"\n                }\n            ]\n        },\n        "1.6.0": {\n            "info": {\n                "title": "Scale Token Names & Auto Initiative Window",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added Scale Token Names by Size module"\n                },\n                {\n                    "id": "",\n                    "content": "Added Auto Open Initiative Tracker module"\n                },\n                {\n                    "id": "",\n                    "content": "NightMode(5e OGL): fix npc reaction header text color"\n                },\n                {\n                    "id": "",\n                    "content": "NightMode(5e OGL): fix unreadable text on NPC edit sheets, color adv btn"\n                },\n                {\n                    "id": "",\n                    "content": "NightMode: tweak brand colors"\n                },\n                {\n                    "id": "",\n                    "content": "NightMode: add baseStyle config option"\n                },\n                {\n                    "id": "",\n                    "content": "AlternativePageToolbarMenu: fix rename on empty spans, indent properly"\n                }\n            ]\n        },\n        "1.7.0": {\n            "info": {\n                "title": "Animated Backgrounds",\n                "media": "animated_bg.webm"\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added the Animated Backgrounds module."\n                },\n                {\n                    "id": "",\n                    "content": "Added the Remember Text Tool Settings module."\n                },\n                {\n                    "id": "",\n                    "content": "Update contributors"\n                },\n                {\n                    "id": "",\n                    "content": "NightMode: remove color reset on sheet containers"\n                },\n                {\n                    "id": "",\n                    "content": "CharacterTokenModifier: improved styling, added \'set\' button for names"\n                },\n                {\n                    "id": "",\n                    "content": "Fixed DrawCurrentLayer being active when not a GM"\n                },\n                {\n                    "id": "",\n                    "content": "Fixed size inconsistencies in TokenResize"\n                }\n            ]\n        },\n        "1.7.1": {\n            "info": {\n                "title": "Bugfix",\n                "media": "animated_bg.webm"\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Text tool settings no longer reflect selected text object properties when the remember text settings module is on. This can be disabled in the settings. (thanks @ Daj for the report!)"\n                },\n                {\n                    "id": "",\n                    "content": "Fixed changelog invalid media URLs in changelogs"\n                },\n                {\n                    "id": "",\n                    "content": "Fixed scrolling in the changelog view."\n                }\n            ]\n        },\n        "1.7.2": {\n            "info": {\n                "title": "Wolf deterrent",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Renamed to VTT Enhancement Suite to avoid LAWSUITS"\n                },\n                {\n                    "id": "",\n                    "content": "Fixed token editor not linking bars & not loading linked bar names"\n                }\n            ]\n        },\n        "1.7.3": {\n            "info": {\n                "title": "Token editor fix",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Fixed the token editor repositioning tokens & setting random values (thanks RoscoMcqueen and Melty for the report!)"\n                }\n            ]\n        },\n        "1.7.4": {\n            "info": {\n                "title": "More token editor fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Fixed token editor not properly setting name and represents id"\n                },\n                {\n                    "id": "",\n                    "content": "Token editor no longer sets current bar values for default tokens."\n                }\n            ]\n        },\n        "1.7.5": {\n            "info": {\n                "title": "Critical Fix",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Fixed a critical bug that prevented the extension & similar tools from working."\n                }\n            ]\n        },\n        "1.7.6": {\n            "info": {\n                "title": "Pagliacci",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added experimental Opera support"\n                }\n            ]\n        },\n        "1.7.7": {\n            "info": {\n                "title": "Night Mode Deprecation",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "NightMode is being phased out in favor of Red Reign\'s Dark Theme.",\n                    "urls": {\n                        "Grab it here": "https://github.com/RedReign/Roll20-Dark-Theme"\n                    }\n                },\n                {\n                    "id": "",\n                    "content": "Possibly fixed an issue when dragging in an image in the the token editor."\n                },\n                {\n                    "id": "",\n                    "content": "Updated contributors"\n                }\n            ]\n        },\n        "1.7.8": {\n            "info": {\n                "title": "Animated Background Audio",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Animated Backgrounds: Add audio support + settings for audio. (thanks Ryan for pointing it out!)"\n                }\n            ]\n        },\n        "1.7.9": {\n            "info": {\n                "title": "Misc",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Animated Backgrounds: position the button to be on the right of the canvas."\n                }\n            ]\n        },\n        "1.8.0": {\n            "info": {\n                "title": "Adjustable GM Opacity",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added adjustable GM layer opacity module."\n                },\n                {\n                    "id": "",\n                    "content": "Updated contributors"\n                }\n            ]\n        },\n        "1.9.0": {\n            "info": {\n                "title": "Token From Image & friends",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added Token From Image: create tokens from images by right-clicking on the canvas."\n                },\n                {\n                    "id": "",\n                    "content": "Adjust some dialog menu sizes"\n                },\n                {\n                    "id": "",\n                    "content": "Added \'Sort Lexicographically\' to Macro Generator"\n                },\n                {\n                    "id": "",\n                    "content": "Added flip horizontal/vertical, rotation edits to the token editor."\n                },\n                {\n                    "id": "",\n                    "content": "Improved bar editing in the token editor."\n                },\n                {\n                    "id": "",\n                    "content": "Updated contributors"\n                }\n            ]\n        },\n        "1.9.1": {\n            "info": {\n                "title": "Playlist fix",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Fixed playlist importing not preserving the file structure."\n                }\n            ]\n        },\n        "1.9.2": {\n            "info": {\n                "title": "Minor tweak.",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added secret essay for mozilla addon reviewers."\n                },\n                {\n                    "id": "",\n                    "content": "AdjustableOpacity: disable by default"\n                }\n            ]\n        },\n        "1.9.3": {\n            "info": {\n                "title": "Fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Auto Open Initiative Tracker: Added delay between roll & dialog open (should fix issues with some turns being missing, thanks Tielc)"\n                },\n                {\n                    "id": "",\n                    "content": "TokenContextMenuApi: limit the size of the injected element (thanks Giddy)"\n                },\n                {\n                    "id": "",\n                    "content": "Token Editor: Fixed an instance where the bar links would not be unset (thanks Grigdusher)"\n                }\n            ]\n        },\n        "1.9.4": {\n            "info": {\n                "title": "Super minor UI Tweak",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "JukeboxIO: Adjust wording on the UI widget (thanks, Ryan!)"\n                }\n            ]\n        },\n        "1.9.5": {\n            "info": {\n                "title": "Timing change",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Increased time before we panic dump scripts on chromium"\n                },\n                {\n                    "id": "",\n                    "content": "Added debug log dumping"\n                }\n            ]\n        },\n        "1.10.0": {\n            "info": {\n                "title": "Macro Generator Folders",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added foldering to the macro generator. You can now generate a macro that will spawn a list of action buttons in the chat!"\n                },\n                {\n                    "id": "",\n                    "content": "Character sheets: only show certain tabs if the user can edit the character."\n                }\n            ]\n        },\n        "1.10.1": {\n            "info": {\n                "title": "Macro Generator Folder tweak",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Macro Generator: whisper folders to character"\n                },\n                {\n                    "id": "",\n                    "content": "Macro Generator: show remaining/max spell slots in spell folders"\n                }\n            ]\n        },\n        "1.11.0": {\n            "info": {\n                "title": "Disable Player Drawing",\n                "media": "disable_drawing.png"\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added the Disable Player Drawing module which lets you chose which players can draw/write text."\n                },\n                {\n                    "id": "",\n                    "content": "NightMode: remove all styling."\n                },\n                {\n                    "id": "",\n                    "content": "Settings: make Apply & Close prettier."\n                },\n                {\n                    "id": "",\n                    "content": "Updated contributors."\n                }\n            ]\n        },\n        "1.12.0": {\n            "info": {\n                "title": "Hit Dice Macros & Table Entry Avatars by URL",\n                "media": "table_entry_by_url.png"\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added the Set Table Entry Avatar By URL module."\n                },\n                {\n                    "id": "",\n                    "content": "HitDice: Added support for optional custom macros."\n                },\n                {\n                    "id": "",\n                    "content": "NightMode: Added a link to RedReign\'s theme."\n                },\n                {\n                    "id": "",\n                    "content": "Settings: improve the options table visuals."\n                },\n                {\n                    "id": "",\n                    "content": "Settings: fix scroll being reset every time a module is selected."\n                },\n                {\n                    "id": "",\n                    "content": "Updated contributors."\n                }\n            ]\n        },\n        "1.12.1": {\n            "info": {\n                "title": "Hit Dice Macros Tweak",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "HitDice: added an option to turn off inline roll summing for custom macros."\n                }\n            ]\n        },\n        "1.12.2": {\n            "info": {\n                "title": "Update Compatibility",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Fixed various bugs introduced by the latest Roll20 update."\n                }\n            ]\n        },\n        "1.12.3": {\n            "info": {\n                "title": "Update Compatibility II",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "NightMode: repurpose into Force Background"\n                },\n                {\n                    "id": "",\n                    "content": "AdjustableOpacity: fixed it being broken."\n                },\n                {\n                    "id": "",\n                    "content": "AnimatedBackgroundLayer: fix background color issues (thanks, Knilk!)"\n                },\n                {\n                    "id": "",\n                    "content": "TokenLayerDrawing: fixed opacity issues (thanks, Dominic, Brother Sharp & guKing!)"\n                },\n                {\n                    "id": "",\n                    "content": "AnimatedBackgroundLayer: fixed background not autoplaying on chromium (thanks, Neverr!)"\n                }\n            ]\n        },\n        "1.12.4": {\n            "info": {\n                "title": "Update Compatibility III",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "AlternativeRadialMenu: support pause/play button"\n                }\n            ]\n        },\n        "1.12.5": {\n            "info": {\n                "title": "Update Compatibility IV",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "ScaleTokenNamesBySize: fix improper scaling (thanks, SmoothAsFelt!)"\n                }\n            ]\n        },\n        "1.12.6": {\n            "info": {\n                "title": "Bug Fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "TokenLayerDrawing: reworked context state management. Should fix rendering issues."\n                },\n                {\n                    "id": "",\n                    "content": "ScaleTokenNamesBySize: fixed improper scaling when having one of the checkbox settings turned off."\n                },\n                {\n                    "id": "",\n                    "content": "TableExport: fixed importing tables entrys with \'!\' in the name."\n                }\n            ]\n        },\n        "1.13.0": {\n            "info": {\n                "title": "Stability Fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Chrome: rewrote boostrapping. Should help combat the Uh Oh issues. (thanks Axecleft, keablah, TEU_Snoopy!)"\n                },\n                {\n                    "id": "",\n                    "content": "Update contributors & testers"\n                }\n            ]\n        },\n        "1.14.0": {\n            "info": {\n                "title": "Libre Audio",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added Libre Audio: allows creating jukebox tracks by a URL."\n                },\n                {\n                    "id": "",\n                    "content": "Updated contributors."\n                }\n            ]\n        },\n        "1.14.1": {\n            "info": {\n                "title": "Libre Audio Export Fix",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Jukebox: fixed export/importing libeaudio tracks. (thanks, dunedain!)"\n                }\n            ]\n        },\n        "1.14.2": {\n            "info": {\n                "title": "Libre Audio Playback Fix",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Libre Audio: fixed Roll20 thinking Libre Audio tracks are from Fanburst."\n                }\n            ]\n        },\n        "1.14.3": {\n            "info": {\n                "title": "Bulk Roll Type Setter fix",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "SheetRollTypeSetter: Fixed an issue where attributes weren\'t being properly set sometimes. (thanks, Maxell!)"\n                }\n            ]\n        },\n        "1.14.4": {\n            "info": {\n                "title": "Libre Audio Widget Fix",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "LibreAudio: fixed the Add By URL widget not appearing most of the time."\n                }\n            ]\n        },\n        "1.14.5": {\n            "info": {\n                "title": "Libre Audio Improvement",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "LibreAudio: reworked the Add Track By URL dialog."\n                }\n            ]\n        },\n        "1.14.6": {\n            "info": {\n                "title": "Bug Fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "RememberTextToolSettings: fixed copy text on select being on when it shouldn\'t."\n                },\n                {\n                    "id": "",\n                    "content": "AlternativePageToolbar: shortened height."\n                },\n                {\n                    "id": "",\n                    "content": "LibreAudio: fixed instances where the dialog wouldn\'t show up."\n                }\n            ]\n        },\n        "1.14.7": {\n            "info": {\n                "title": "Get Token Image URL",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added a right click option to get the image URl of one or more tokens."\n                },\n                {\n                    "id": "",\n                    "content": "Token context menu options added by R20ES now appear in a consistent order."\n                }\n            ]\n        },\n        "1.14.8": {\n            "info": {\n                "title": "Fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "TokenContextMenu: fixed context menu options not showing up"\n                },\n                {\n                    "id": "",\n                    "content": "MacroGenerator: fixed the dialog not showing up when an attribute name was empty"\n                }\n            ]\n        },\n        "1.15.0": {\n            "info": {\n                "title": "Small quality of life improvements",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Added the \'Draw bars at the bottom\' module for tokens"\n                },\n                {\n                    "id": "",\n                    "content": "Character Token Editor: add support for the new bar permissions"\n                }\n            ]\n        },\n        "1.15.1": {\n            "info": {\n                "title": "Token bar & status adjustments",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Renamed the `Draw bars at the bottom` module to `Token Bar & Status Adjustments`"\n                },\n                {\n                    "id": "",\n                    "content": "Token bar & status adjustments: added opacity sliders for status icons on active/idle tokens"\n                },\n                {\n                    "id": "",\n                    "content": "Token bar & status adjustments: added an option to toggle drawing bars at the bottom"\n                },\n                {\n                    "id": "",\n                    "content": "Token bar & status adjustments: added an option to draw status icons outside of the token"\n                }\n            ]\n        },\n        "1.15.2": {\n            "info": {\n                "title": "Latest patch fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Token bar & status adjustments: removed bar position option"\n                },\n                {\n                    "id": "",\n                    "content": "Token bar & status adjustments: rename to Token status display adjustment"\n                },\n                {\n                    "id": "",\n                    "content": "Character Token Editor: added bar location"\n                }\n            ]\n        },\n        "1.15.3": {\n            "info": {\n                "title": "May 2nd update compatibility",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "LibreAudio: fix playback & ui issues introduced by the May 2nd Roll20 update"\n                }\n            ]\n        },\n        "1.15.4": {\n            "info": {\n                "title": "dun goof",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "LibreAudio: fix 1.15.3 not fixing the May 2nd Roll20 update breakage"\n                }\n            ]\n        },\n        "1.15.5": {\n            "info": {\n                "title": "More Fixes",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "LibreAudio: fix possible crash during load"\n                }\n            ]\n        },\n        "1.15.6": {\n            "info": {\n                "title": "May 10th Fix",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "TokenLayerDrawing: fixed the module not working after a Roll20 update."\n                }\n            ]\n        },\n        "1.15.7": {\n            "info": {\n                "title": "Please stop covering up my token",\n                "media": ""\n            },\n            "changes": [\n                {\n                    "id": "",\n                    "content": "Alternative Radial Menu: add auto width option that spaces the radial menu in such a way to not cover up the selected token."\n                }\n            ]\n        }\n    }\n}\n');if(t)for(var r in console.log("in list all"),console.log(o.versions),o.versions)i.prepareChanges(o.versions[r],r);else{console.log("in else");var a=o.versions[o.current];i.prepareChanges(a,o.current)}return i.preparedData.sort(function(n,e){return d(e.semverString,n.semverString)}),i}return i(e,n),e.prototype.prepareChanges=function(n,e){console.log("prep "+n.info.title),this.preparedData.push({data:n,mediaUrl:r.strIsNullOrEmpty(n.info.media)?"":a.Config.website+n.info.media,semverString:e})},e.prototype.internalRender=function(){var n=this;if(this.preparedData.length<=0)return o.DOM.createElement("div",null,this.isLoading?"Loading...":"We have no changes to display :/... What?");return o.DOM.createElement("div",null,this.preparedData.map(function(e){for(var t=[],i=0,d=e.data.changes;i<d.length;i++){var l=d[i],c=[];for(var u in l.urls){var f=l.urls[u];c.push(o.DOM.createElement("div",null,o.DOM.createElement("a",{href:f},u)))}t.push(r.strIsNullOrEmpty(l.id)?o.DOM.createElement("li",null,l.content,c):o.DOM.createElement("li",null,o.DOM.createElement("a",{"data-url":a.Config.websiteFeatureUrlTemplate+l.id,href:"javascript:void(0)",onClick:n.onClickLine},l.content),c))}var h=e.data.info.title?o.DOM.createElement("div",null,o.DOM.createElement("h2",null,e.data.info.title),o.DOM.createElement("h3",null,e.semverString)):o.DOM.createElement("div",null,o.DOM.createElement("h2",null,e.semverString));return o.DOM.createElement("ul",null,h,!r.strIsNullOrEmpty(e.mediaUrl)&&o.DOM.createElement(s.default,{url:e.mediaUrl,description:""}),t,o.DOM.createElement("hr",null))}))},e}(o.DOM.ElementBase);e.default=l},83:function(n,e){n.exports=function(n,e){for(var t=n.split("."),i=e.split("."),o=0;o<3;o++){var r=Number(t[o]),a=Number(i[o]);if(r>a)return 1;if(a>r)return-1;if(!isNaN(r)&&isNaN(a))return 1;if(isNaN(r)&&!isNaN(a))return-1}return 0}},84:function(n,e,t){"use strict";e.__esModule=!0;e.default="r20es-settings-button"}});