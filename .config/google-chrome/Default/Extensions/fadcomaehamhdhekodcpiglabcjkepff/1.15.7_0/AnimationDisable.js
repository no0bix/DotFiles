!function(n){var e={};function t(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(o,i,function(e){return n[e]}.bind(null,i));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=98)}({3:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=(n=>{const e=n.replace(/\\/g,"/").split("/");if(e.length<=0)throw new Error("Invalid dirname given.");return e[e.length-1]+".js"})},4:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.R20Module=void 0;var o=function(n){return n&&n.__esModule?n:{default:n}}(t(3));function i(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function r(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}let s={};e.R20Module=s,s.Base=function(){function n(n){!function(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(this,"getAllHooks",n=>window.r20es.hooks),this.filename=(0,o.default)(n),this.isDisposed=!0}var e=n.prototype;return e.installFirstTime=function(){},e.installUpdate=function(){},e.dispose=function(){},e.internalCanInstall=function(){return!!this.getHook().config.enabled&&(!!this.isDisposed||(console.error("Attempted to install module when it's not disposed."),console.table({"Module filename":this.filename}),console.trace(),!1))},e.internalInstallFirstTime=function(){if(this.internalCanInstall()){try{this.installFirstTime()}catch(n){console.error(n)}this.isDisposed=!1}},e.internalInstallUpdate=function(){if(this.internalCanInstall()){try{this.installUpdate()}catch(n){console.error(n)}this.isDisposed=!1}},e.internalDispose=function(){if(console.log(this),this.isDisposed)return console.error("internalDispose called on module that is already disposed!"),console.table({"Module filename":this.filename}),void console.trace();try{this.dispose()}catch(n){console.error(n)}this.isDisposed=!0},e.setConfigValue=function(n,e){const t=this.getHook(),o=this.getHook().config;if(!(n in o))return void console.error(`Tried to set config of key ${n} to value ${e} but key was not found in the config of module id ${t.id}"`);const i=o[n];o[n]=e,t.saveConfig(),o.enabled&&"onSettingChange"in this&&"function"==typeof this.onSettingChange&&this.onSettingChange(n,i,e)},e.getHook=function(){if(!1 in window.r20es)return null;for(const n in window.r20es.hooks){const e=window.r20es.hooks[n];if(e.filename&&e.filename===this.filename)return e}return null},e.toggleEnabledState=function(n){const e=this.getHook(),t=void 0===n||null===n?!e.config.enabled:n;if(e.config.enabled&&t)return;const o=e.config.enabled;e.config.enabled=t,e.saveConfig(),o&&!t?(console.log("disabling"),this.internalDispose()):!o&&t&&(console.log("enabling"),this.internalInstallUpdate())},e.install=function(){if(!("r20esInstalledModuleTable"in window))return;if(!("r20esDisposeTable"in window))return;console.log(`Installing module filename: ${this.filename}`),!(this.filename in window.r20esInstalledModuleTable)?(console.log("First run"),this.internalInstallFirstTime()):(this.filename in window.r20esDisposeTable&&console.error(`DUPLICATE MODULE FOUND: ${this.filename}`),console.log("Calling install update"),this.internalInstallUpdate()),window.r20esDisposeTable[this.filename]=(()=>{this.dispose()}),window.r20esInstalledModuleTable[this.filename]=this,console.log(`DONE! module ID: ${this.filename}`)},n}(),s.SimpleBase=function(n){function e(){return n.apply(this,arguments)||this}r(e,n);var t=e.prototype;return t.installFirstTime=function(){this.setup()},t.installUpdate=function(){this.setup()},t.setup=function(){},e}(s.Base),s.OnAppLoadBase=function(n){function e(e){var t;return(t=n.call(this,e)||this).setup=t.setup.bind(i(i(t))),t}r(e,n);var t=e.prototype;return t.installFirstTime=function(){window.r20es.isLoading?(this.earlySetup(),window.r20es.onAppLoad.addEventListener(this.setup)):(this.earlySetup(),this.setup())},t.earlySetup=function(){},t.setup=function(){},t.installUpdate=function(){this.installFirstTime()},t.dispose=function(){window.r20es.onAppLoad.removeEventListener(this.setup)},e}(s.Base),s.canInstall=(n=>window.r20es&&"canInstallModules"in window.r20es&&window.r20es.canInstallModules),s.getModule=function(n){return"r20esInstalledModuleTable"in window?window.r20esInstalledModuleTable[n]:null},s.getModuleById=function(n){return"r20esInstalledModuleTable"in window?s.getModule(window.r20es.hooks[n].filename):null}},6:function(n,e,t){"use strict";e.__esModule=!0;var o=t(8);e.copy=function(n,e){var t=Object.assign({},n);return e&&(t=Object.assign(t,e)),t};var i=function(n){if("currentTransform"in n)return n.currentTransform;if("getTransform"in n)return n.getTransform();if(n.mozCurrentTransform){var e=n.mozCurrentTransform;return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}};e.getTransform=i;e.getRotation=function(n){var e=i(n),t=Math.atan2(e.b,e.a);return t<0&&(t+=2*Math.PI),t};e.findByIdAndRemove=function(n){var e=document.getElementById(n);e&&e.remove()};e.mapObj=function(n,e){return Object.keys(n).reduce(function(t,o){var i=e(n[o],o);return void 0!==i&&null!==i&&t.push(i),t},[])};e.safeCall=function(n){try{n()}catch(n){console.error(n)}};e.removeAllChildren=function(n){for(;n.firstChild;)n.removeChild(n.firstChild)};e.replaceAll=function(n,e,t){return n.replace(new RegExp(function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"g"),t)};e.safeParseJson=function(n){try{return JSON.parse(n)}catch(n){alert("File is not a valid JSON file.")}return null};e.readFile=function(n){return new Promise(function(e,t){if(n){var o=new FileReader;o.readAsText(n),o.onload=function(n){e(n.target.result)}}else t("No file given.")})};var r=function(){return chrome||browser};e.getBrowser=r;e.injectScript=function(n){console.log("Injecting "+n);var e=document.createElement("script");e.async=!1,e.src=r().extension.getURL(n),e.onload=function(){e.remove()},document.head.appendChild(e)};e.strIsNullOrEmpty=function(n){return null===n||void 0===n||n.length<=0||n.trim().length<=0};e.createCSSElement=function(n,e){var t=document.createElement("style");return t.innerHTML=n,t.id=e,t};e.getExtUrlFromPage=function(n,e){var t=void 0===e||null===e?1e3:e;return new Promise(function(e,i){try{var r=!1,s=function(){window.removeEventListener("message",a)},l=window.generateUUID(),a=function(n){n.origin===o.Config.appUrl&&n.data.r20esGivesResourceUrl&&n.data.r20esGivesResourceUrl.id===l&&(r=!0,s(),e(n.data.r20esGivesResourceUrl.url))};window.addEventListener("message",a);var u={resource:n,id:l};window.postMessage({r20esWantsResourceUrl:u},o.Config.appUrl),setTimeout(function(){try{r||(s(),i("Timed out after "+t+"ms"))}catch(n){i(n)}},t)}catch(n){i(n)}})}},8:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;let o={};e.Config=o,o.appUrl="https://app.roll20.net",o.websiteFeatureUrlTemplate="https://ssstormy.github.io/roll20-enhancement-suite/features#",o.website="https://ssstormy.github.io/roll20-enhancement-suite/",o.discordInvite="https://discord.gg/pKxxvuM",o.contributeUrl="https://ssstormy.github.io/roll20-enhancement-suite/contribute.html"},98:function(n,e,t){"use strict";(function(n){var o=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();e.__esModule=!0;var i=t(4),r=t(6),s=function(){function n(){this.sheetId="r20es-anim-no-token-radial"}return n.prototype.install=function(){var n=r.createCSSElement("\n#radial-menu .button {\n    -webkit-transition: none;\n    -moz-transition: none;\n    -o-transition: none;\n    -ms-transition:none;\n    transition:none;\n}\n\n#radial-menu .button.open {\n    -webkit-transition-timing-function: none;\n    -webkit-transition-timing-function: none;\n    -moz-transition-timing-function: none;\n    -ms-transition-timing-function: none;\n    -o-transition-timing-function: none;\n    transition-timing-function: none;\n}",this.sheetId);document.body.appendChild(n)},n.prototype.uninstall=function(){r.findByIdAndRemove(this.sheetId)},n}(),l=function(){function n(){}return n.prototype.togglePageToolbar=function(){var n=document.querySelector("#page-toolbar"),e=n.classList.contains("closed");console.log("toggling "+e),e?($("#page-toolbar .pages").show(),n.style.top="0",n.classList.remove("closed")):($("#page-toolbar .pages").hide(),n.style.top="-"+String(n.clientHeight)+"px",n.classList.add("closed"))},n.prototype.install=function(){window.r20es.togglePageToolbar=this.togglePageToolbar},n.prototype.uninstall=function(){window.r20es.togglePageToolbar=null},n}(),a=function(e){function t(){var t=e.call(this,n)||this;return t.installedAnims=[],t.animModTable={},t.animModTable.disableRadial=new s,t.animModTable.disablePageToolbar=new l,t}return o(t,e),t.prototype.getAnimModData=function(n){if(!(n in this.animModTable))return console.error("Could not find anim mod data for key "+n),null;var e=this.animModTable[n];return console.log(e),e},t.prototype.shouldDoCustomAnim=function(n){var e=function(n){return"object"!=typeof n};if(e(window.r20es))return!1;if(e(window.r20es.hooks))return!1;if(e(window.r20es.hooks.animationDisable))return!1;if(e(window.r20es.hooks.animationDisable.config))return!1;var t=window.r20es.hooks.animationDisable.config[n];return"boolean"==typeof t&&t},t.prototype.installAnimMod=function(n){var e=this.getAnimModData(n);e&&(console.log("installing anim mod "+n),e.install(),this.installedAnims.push(n))},t.prototype.uninstallAnimMod=function(n){var e=this.getAnimModData(n);if(e){console.log("removing anim mod "+n+" "+e),e.uninstall();var t=this.installedAnims.indexOf(n);t>=0&&this.installedAnims.splice(t,1)}},t.prototype.onSettingChange=function(n,e,t){e!==t&&(t?this.installAnimMod(n):this.uninstallAnimMod(n))},t.prototype.setup=function(){window.r20es.shouldDoCustomAnim=this.shouldDoCustomAnim;var n=this.getHook().config;for(var e in this.animModTable)n[e]&&this.installAnimMod(e)},t.prototype.dispose=function(){window.r20es.shouldDoCustomAnim=null,e.prototype.dispose.call(this);for(var n=0,t=this.installedAnims;n<t.length;n++){var o=t[n];this.uninstallAnimMod(o)}},t}(i.R20Module.OnAppLoadBase);i.R20Module.canInstall()&&(new a).install()}).call(this,"src/modules/AnimationDisable")}});